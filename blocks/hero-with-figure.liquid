{% doc %}
  Renders a hero section with an image figure and content side by side.

  @example
  {% content_for 'block', type: 'hero-with-figure', id: 'hero' %}
{% enddoc %}

{% liquid
  assign has_content = false
  if block.settings.heading != blank or block.settings.text != blank or block.settings.button_text != blank
    assign has_content = true
  endif
%}

{% if has_content or block.settings.image %}
  <div
    class="hero min-h-screen bg-base-200"
    style="--hero-padding: {{ block.settings.padding }}px;"
    {{ block.shopify_attributes }}
  >
    <div class="hero-content flex-col lg:flex-row gap-8 lg:gap-12">
      {% if block.settings.image %}
        <div class="hero-figure">
          {{ block.settings.image | image_url: width: 600 | image_tag:
             alt: block.settings.image.alt | default: block.settings.alt_text,
             class: 'max-w-sm lg:max-w-md rounded-lg shadow-2xl',
             loading: 'lazy'
          }}
        </div>
      {% endif %}

      {% if has_content %}
        <div class="hero-content-text text-center lg:text-left">
          {% if block.settings.heading != blank %}
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6">
              {{ block.settings.heading | escape }}
            </h1>
          {% endif %}

          {% if block.settings.text != blank %}
            <p class="text-lg md:text-xl mb-8 opacity-80">
              {{ block.settings.text | escape }}
            </p>
          {% endif %}

          {% if block.settings.button_text != blank and block.settings.button_url != blank %}
            <a
              href="{{ block.settings.button_url }}"
              class="btn btn-{{ block.settings.button_style }} btn-{{ block.settings.button_size }}"
            >
              {{ block.settings.button_text | escape }}
            </a>
          {% endif %}
        </div>
      {% endif %}
    </div>
  </div>
{% endif %}

{% stylesheet %}
  .hero {
    padding: var(--hero-padding, 2rem) 1rem;
  }

  .hero-content {
    max-width: 1200px;
    margin: 0 auto;
  }

  .hero-figure {
    flex-shrink: 0;
  }

  .hero-content-text {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  @media (min-width: 768px) {
    .hero {
      padding: var(--hero-padding, 4rem) 2rem;
    }
  }

  @media (min-width: 1024px) {
    .hero {
      padding: var(--hero-padding, 6rem) 2rem;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:general.hero_with_figure",
  "settings": [
    {
      "type": "header",
      "content": "t:general.media"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:labels.image",
      "info": "t:labels.image_info"
    },
    {
      "type": "text",
      "id": "alt_text",
      "label": "t:labels.alt_text",
      "info": "t:labels.alt_text_info"
    },
    {
      "type": "header",
      "content": "t:general.content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "t:labels.heading",
      "default": "Welcome to our store"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "t:labels.text",
      "default": "Discover amazing products and exceptional quality. Shop with confidence and enjoy fast, reliable delivery."
    },
    {
      "type": "header",
      "content": "t:general.button"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "t:labels.button_text",
      "default": "Shop now"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "t:labels.button_url",
      "default": "/collections/all"
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "t:labels.button_style",
      "default": "primary",
      "options": [
        { "value": "primary", "label": "t:options.button_style.primary" },
        { "value": "secondary", "label": "t:options.button_style.secondary" },
        { "value": "accent", "label": "t:options.button_style.accent" },
        { "value": "outline", "label": "t:options.button_style.outline" },
        { "value": "ghost", "label": "t:options.button_style.ghost" }
      ]
    },
    {
      "type": "select",
      "id": "button_size",
      "label": "t:labels.button_size",
      "default": "lg",
      "options": [
        { "value": "xs", "label": "t:options.button_size.extra_small" },
        { "value": "sm", "label": "t:options.button_size.small" },
        { "value": "md", "label": "t:options.button_size.medium" },
        { "value": "lg", "label": "t:options.button_size.large" },
        { "value": "xl", "label": "t:options.button_size.extra_large" }
      ]
    },
    {
      "type": "header",
      "content": "t:general.layout"
    },
    {
      "type": "range",
      "id": "padding",
      "label": "t:labels.spacing",
      "min": 20,
      "max": 120,
      "step": 10,
      "unit": "px",
      "default": 60
    }
  ],
  "presets": [
    {
      "name": "t:general.hero_with_figure",
      "category": "t:general.content"
    }
  ]
}
{% endschema %}
