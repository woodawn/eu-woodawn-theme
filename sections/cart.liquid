{% comment %}
  This section is used in the cart template to render /cart page with an
  overview of the items in customer's cart.

  https://shopify.dev/docs/storefronts/themes/architecture/templates/cart
{% endcomment %}

<div class="container mx-auto p-6">
  <h1 class="text-4xl font-bold mb-8">{{ 'cart.title' | t }}</h1>

  {% if cart.item_count > 0 %}
    <form action="{{ routes.cart_url }}" method="post" class="space-y-6">
      <div class="overflow-x-auto">
        <table class="table table-zebra w-full">
          <thead>
            <tr>
              <th>商品</th>
              <th>名称</th>
              <th>数量</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody>
            {% for item in cart.items %}
              <tr>
                <td>
                  {% render 'image', image: item.image, url: item.url, class: 'w-16 h-16 rounded' %}
                </td>
                <td>
                  <div class="font-bold">{{ item.product.title }}</div>
                  <div class="text-sm opacity-50">{{ item.variant.title }}</div>
                </td>
                <td>
                  <div class="flex items-center gap-2">
                    <input
                      type="number"
                      name="updates[]"
                      value="{{ item.quantity }}"
                      min="0"
                      class="input input-bordered w-20"
                    >
                    <button type="submit" class="btn btn-sm btn-primary">{{ 'cart.update' | t }}</button>
                  </div>
                </td>
                <td>
                  <a href="{{ item.url_to_remove }}" class="btn btn-sm btn-error">{{ 'cart.remove' | t }}</a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <div class="flex justify-end">
        <button type="submit" name="checkout" class="btn btn-primary btn-lg">{{ 'cart.checkout' | t }}</button>
      </div>
    </form>
  {% else %}
    <div class="text-center py-12">
      <h2 class="text-2xl font-bold mb-4">购物车为空</h2>
      <p class="mb-6">您还没有添加任何商品到购物车</p>
      <a href="{{ routes.all_products_collection_url }}" class="btn btn-primary">继续购物</a>
    </div>
  {% endif %}
</div>

{% schema %}
{
  "name": "t:general.cart",
  "settings": []
}
{% endschema %}
