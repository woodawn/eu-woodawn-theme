{% doc %}
  Renders an image block with configurable styling and behavior.

  @example
  {% render 'image', block: block %}
{% enddoc %}

{% if block.settings.image != blank %}
  <div class="image-block {{ block.settings.image_style }}" {{ block.shopify_attributes }}>
    {% if block.settings.url != blank %}
      <a href="{{ block.settings.url }}" class="block">
    {% endif %}

    <img
      src="{{ block.settings.image | image_url: width: block.settings.image_width }}"
      alt="{{ block.settings.image.alt | default: block.settings.alt_text }}"
      class="w-full h-auto {{ block.settings.image_style }}"
      width="{{ block.settings.image_width }}"
      height="{{ block.settings.image_height }}"
      loading="{{ block.settings.loading }}"
    >

    {% if block.settings.url != blank %}
      </a>
    {% endif %}

    {% if block.settings.caption != blank %}
      <p class="text-sm text-base-content/70 mt-2 text-center">{{ block.settings.caption }}</p>
    {% endif %}
  </div>
{% endif %}

